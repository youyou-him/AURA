# AURA: 멀티 에이전트 협업 기반 지능형 매거진 자동 디자인 및 렌더링 솔루션

### 프로젝트 개요 및 분석 목표

본 프로젝트는 사용자가 입력한 텍스트와 이미지로부터 전문가 수준의 매거진 레이아웃을 자동 생성하는 **고급 AI 디자인 시스템**입니다. 기존 디자인 공정에서 발생하는 수작업의 병목 현상을 해결하기 위해, 단순한 생성을 넘어 **'기획-분류-배치-검수'**의 전 과정을 자율적으로 수행하는 멀티 에이전트 아키텍처를 구축하는 것을 목표로 했습니다.

최종적으로는 **LangGraph**를 통한 순환형 로직과 **YOLOv8** 기반의 시각적 좌표 추출을 결합하여, 디자인 레이아웃 붕괴를 막고 실무에 즉시 적용 가능한 수준의 HTML 렌더링 결과물을 제공합니다.

---

### 분석 방법론 및 모델링 상세

#### 1. 멀티 에이전트 오케스트레이션 (LangGraph Workflow)
단방향 체인의 한계를 극복하고 디자인의 품질을 스스로 보정하기 위해 **6개 노드로 구성된 순환형 에이전트 구조**를 설계했습니다.
* **의도 분류 및 콘텐츠 필터링:** 요청의 적절성을 검토하고 매거진 성격에 맞는 레이아웃 타입을 선별합니다.
* **에이전트 협업:** 이미지 분석기(Hero 이미지 결정), 레이아웃 플래너(배치 최적화), 타이포그래피 스타일러가 각자 역할을 수행합니다.
* **QA 루프 및 품질 검증:** 생성된 결과물을 최종 검증 노드에서 평가하며, 품질 미달 시 구체적인 피드백과 함께 이전 단계로 되돌아가 재시도하는 자율 보정 메커니즘을 구현했습니다.

#### 2. 고도화된 RAG 및 검색 엔진 (Advanced RAG)
방대한 레이아웃 데이터셋에서 최적의 레퍼런스를 빠르게 인출하기 위해 최신 임베딩 기술을 적용했습니다.
* **Voyage 3.5 & MRL 기술:** Matryoshka Representation Learning(MRL)을 도입하여 512차원 임베딩만으로도 높은 성능을 유지하면서 **검색 속도를 4배 향상**시키고 저장 용량을 75% 절감했습니다.
* **구조적 필터링:** 이미지 개수, 종횡비, 레이아웃 타입(Cover/Article)에 따른 하이브리드 필터링을 통해 의미론적 유사도뿐만 아니라 구조적 적합성까지 확보했습니다.

#### 3. 시각적 인지 기반 레이아웃 제어 (Vision-Driven Design)
자연어 생성만으로 발생하는 레이아웃의 부정확성을 해결하기 위해 컴퓨터 비전 기술을 접목했습니다.
* **YOLOv8 기반 좌표 추출:** 피사체의 위치를 정확히 파악하여 텍스트 오버레이 시 피사체가 가려지지 않도록 **Safe Zone 배치 로직**을 구현했습니다.
* **동적 매핑:** 추출된 좌표값과 콘텐츠 길이를 계산하여 폰트 크기와 이미지 높이를 자동으로 조정하는 적응형 레이아웃 시스템을 구축했습니다.

---

### 기술 구현 및 서비스화

#### 1. 웹 및 기술 스택 상세

| 구분 | 기술 | 구현 기능 및 특징 |
| :--- | :--- | :--- |
| **Backend** | FastAPI, MCP | 비동기 API 서버 및 MCP 아키텍처를 통한 서비스 모듈 분리 |
| **AI Agents** | LangGraph, Gemini 1.5 Pro | 자율 순환형 워크플로우 설계 및 고도화된 콘텐츠 생성 |
| **Vector DB** | ChromaDB, Voyage 3.5 | MRL 기술 기반의 고성능 레이아웃 레퍼런스 검색 |
| **Vision/CV** | YOLOv8, NumPy, Pillow | 객체 검출을 통한 시각적 Safe Zone 확보 및 이미지 전처리 |
| **Infra/DevOps** | Docker, AWS EC2, GitHub Actions | 컨테이너 기반 환경 구축 및 CI/CD 자동화 배포 파이프라인 |

#### 2. 구현된 핵심 기능
* **Placeholder 치환 전략:** 에이전트 간 대용량 이미지 데이터 전송 문제를 해결하기 위해 텍스트 기반 치환 방식을 도입, **전송량을 90% 절감**하고 처리 속도를 10배 향상했습니다.
* **실시간 HTML 렌더링:** Tailwind CSS 기반의 편집 가능한 HTML 구조를 생성하여 사용자가 즉시 수정 및 배포할 수 있는 환경을 제공합니다.
* **지표 관리(KPI):** 생성 속도 25초 이내, 품질 점수 90점 이상 등 16개 핵심 지표를 설정하고 전 항목 목표를 달성했습니다.

---

### 향후 도전 과제

* **멀티 페이지 자동 편집:** 단일 페이지를 넘어 전체 잡지의 흐름(Flow)을 고려한 일관성 있는 멀티 페이지 디자인 자동화 연구.
* **디자인 엔진 고도화:** MCP(Model Context Protocol) 기반으로 분리된 엔진을 더욱 확장하여, 다양한 스타일의 디자인 템플릿을 실시간으로 학습하고 반영하는 시스템 구축.
* **사용자 피드백 기반 강화학습:** 사용자의 최종 수정 데이터를 수집하여 에이전트의 레이아웃 배치 선호도를 정교화하는 RLHF(Reinforcement Learning from Human Feedback) 적용 검토.
